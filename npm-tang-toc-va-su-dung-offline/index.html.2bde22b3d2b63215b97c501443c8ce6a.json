{"head":{"id":24297,"layout":"Post","route":"npm-tang-toc-va-su-dung-offline","title":"Npm: Tăng tốc và sử dụng offline","tags":["npm","javascript","nodejs"],"date":"2016-04-12T06:59:40.118Z","views":84,"likes":19,"description":"Chắc chắn là ai đã từng làm việc với npm thì đều biết một điều rằng npm nó siêu chậm. Vì vậy mình hay hạn chế chạy npm install đến mức tối…","author":{"name":"Khoa Nguyen","avatar":"/user_avatar/daynhauhoc.com/thangngoc89/{size}/1773_1.png","username":"thangngoc89"}},"body":"\n<p>Chắc chắn là ai đã từng làm việc với npm thì đều biết một điều rằng npm nó siêu chậm. Vì vậy mình hay hạn chế chạy <code>npm install</code> đến mức tối thiểu và thường không nhận được patch update, ... cũng như nhiều vấn đề khác phát sinh. Trong bài viết này mình sẽ giới thiệu với các bạn một package không những giúp tăng tốc npm mà còn cho phép bạn cài đặt package offline.</p>\n\n<h1><a href=\"https://github.com/nolanlawson/local-npm\">local-npm</a></h1>\n\n<p><a href=\"https://github.com/nolanlawson/local-npm\">local-npm</a> sẽ tạo ra 1 replicate cho toàn bộ database của npm (chỉ hơn 1GB một tí thôi) cũng như là cache các package đã tải về. Vì vậy bạn sẽ không bao giờ tải một file 2 lần.</p>\n\n<h2>Sử dụng</h2>\n\n<ul><li>Cài đặt</li></ul>\n\n<p></p><pre><code class=\"lang-auto\">npm install --global local-npm</code></pre>\n\n<ul><li>Tạo một thư mục để chứa dữ liệu</li></ul>\n\n<p></p><pre><code class=\"lang-auto\">mkdir ~/local_npm</code></pre>\n\n<ul><li>Chạy local-npm server</li></ul>\n\n<p></p><pre><code class=\"lang-auto\">local-npm -d ~/local_npm</code></pre>\n\n<ul><li>Lúc này bạn sẽ thấy giao diện chính của chương trình xuất hiện</li></ul>\n\n<p><div class=\"lightbox-wrapper\"><a href=\"http://daynhauhoc.s3-ap-southeast-1.amazonaws.com/original/2X/e/e249e18b9cb3bf49ae51d348a1d07db166d8c99b.png\" class=\"lightbox\" title=\"local_npm.png\"><img src=\"http://daynhauhoc.s3-ap-southeast-1.amazonaws.com/optimized/2X/e/e249e18b9cb3bf49ae51d348a1d07db166d8c99b_1_690x437.png\" alt=\"Giao diện của local-npm\" width=\"690\" height=\"437\"><div class=\"meta\">\n<span class=\"filename\">local_npm.png</span><span class=\"informations\">750x476 35.5 KB</span><span class=\"expand\"></span>\n</div></a></div></p>\n\n<ul><li>Thiết lập cho npm tải dữ liệu từ local-npm</li></ul>\n\n<p></p><pre><code class=\"lang-auto\">npm set registry http://127.0.0.1:5080</code></pre>\n\n<ul><li>Nếu bạn không thích dùng local-npm nữa thì gõ lệnh</li></ul>\n\n<p></p><pre><code class=\"lang-auto\">npm set registry https://registry.npmjs.org</code></pre>\n\n<ul><li>local-npm còn công cấp cho bạn một giao diện kiểu như npm để bạn có thể duyệt các package offline. Nhưng bạn phải đợi cho local-npm replicate hoàn toàn database của npm về máy đã. Bạn có thể truy cập vào [http://localhost:5080/_browse/#/] để sử dụng</li></ul>\n\n<p><div class=\"lightbox-wrapper\"><a href=\"http://daynhauhoc.s3-ap-southeast-1.amazonaws.com/original/2X/6/65c6436b8139bd7015c1218fa7896fcaf2f978ee.png\" class=\"lightbox\" title=\"ui.png\"><img src=\"http://daynhauhoc.s3-ap-southeast-1.amazonaws.com/optimized/2X/6/65c6436b8139bd7015c1218fa7896fcaf2f978ee_1_690x387.png\" alt=\"local-npm UI\" width=\"690\" height=\"387\"><div class=\"meta\">\n<span class=\"filename\">ui.png</span><span class=\"informations\">1366x768 42.2 KB</span><span class=\"expand\"></span>\n</div></a></div></p>\n\n<p>Vậy là xong. local-npm sẽ tự động replicate database của npm về, mỗi khi bạn tải một package nào về thì nó sẽ tự động cache, đảm bảo là bạn không bao giờ phải tải một file nào đó 2 lần.</p>\n\n<h1>Tự động chạy local-npm khi khởi động máy</h1>\n\n<p>Ở đây mình hướng dẫn cho Ubuntu 15.04</p>\n\n<ul><li>Mở dash và tìm kiếm Startup Applications</li></ul>\n\n<p><div class=\"lightbox-wrapper\"><a href=\"http://daynhauhoc.s3-ap-southeast-1.amazonaws.com/original/2X/6/69775fb012b052fb870fbaba2e1d47a6252b7219.png\" class=\"lightbox\" title=\"dash.png\"><img src=\"http://daynhauhoc.s3-ap-southeast-1.amazonaws.com/optimized/2X/6/69775fb012b052fb870fbaba2e1d47a6252b7219_1_690x387.png\" alt=\"dash search\" width=\"690\" height=\"387\"><div class=\"meta\">\n<span class=\"filename\">dash.png</span><span class=\"informations\">1366x768 186 KB</span><span class=\"expand\"></span>\n</div></a></div></p>\n\n<ul><li>Tạo mới một entry để tự khởi động command ở trên mỗi khi mở máy</li></ul>\n\n<p><img src=\"http://daynhauhoc.s3-ap-southeast-1.amazonaws.com/original/2X/0/069bd0f27a9de5caa6752982ca7ed132c9997b57.png\" alt=\"startup setup\" width=\"496\" height=\"354\"></p>\n\n<p>Done. npm is not a jerk anymore. <img src=\"http://daynhauhoc.com/images/emoji/twitter/smiley.png?v=2\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\"></p>\n\n<p><a href=\"https://khoanguyen.me/tang-toc-npm/\">Bài gốc từ blog của mình</a></p>\n","rawBody":"\n<p>Chắc chắn là ai đã từng làm việc với npm thì đều biết một điều rằng npm nó siêu chậm. Vì vậy mình hay hạn chế chạy <code>npm install</code> đến mức tối thiểu và thường không nhận được patch update, ... cũng như nhiều vấn đề khác phát sinh. Trong bài viết này mình sẽ giới thiệu với các bạn một package không những giúp tăng tốc npm mà còn cho phép bạn cài đặt package offline.</p>\n\n<h1><a href=\"https://github.com/nolanlawson/local-npm\">local-npm</a></h1>\n\n<p><a href=\"https://github.com/nolanlawson/local-npm\">local-npm</a> sẽ tạo ra 1 replicate cho toàn bộ database của npm (chỉ hơn 1GB một tí thôi) cũng như là cache các package đã tải về. Vì vậy bạn sẽ không bao giờ tải một file 2 lần.</p>\n\n<h2>Sử dụng</h2>\n\n<ul><li>Cài đặt</li></ul>\n\n<p></p><pre><code class=\"lang-auto\">npm install --global local-npm</code></pre>\n\n<ul><li>Tạo một thư mục để chứa dữ liệu</li></ul>\n\n<p></p><pre><code class=\"lang-auto\">mkdir ~/local_npm</code></pre>\n\n<ul><li>Chạy local-npm server</li></ul>\n\n<p></p><pre><code class=\"lang-auto\">local-npm -d ~/local_npm</code></pre>\n\n<ul><li>Lúc này bạn sẽ thấy giao diện chính của chương trình xuất hiện</li></ul>\n\n<p><div class=\"lightbox-wrapper\"><a href=\"http://daynhauhoc.s3-ap-southeast-1.amazonaws.com/original/2X/e/e249e18b9cb3bf49ae51d348a1d07db166d8c99b.png\" class=\"lightbox\" title=\"local_npm.png\"><img src=\"http://daynhauhoc.s3-ap-southeast-1.amazonaws.com/optimized/2X/e/e249e18b9cb3bf49ae51d348a1d07db166d8c99b_1_690x437.png\" alt=\"Giao diện của local-npm\" width=\"690\" height=\"437\"><div class=\"meta\">\n<span class=\"filename\">local_npm.png</span><span class=\"informations\">750x476 35.5 KB</span><span class=\"expand\"></span>\n</div></a></div></p>\n\n<ul><li>Thiết lập cho npm tải dữ liệu từ local-npm</li></ul>\n\n<p></p><pre><code class=\"lang-auto\">npm set registry http://127.0.0.1:5080</code></pre>\n\n<ul><li>Nếu bạn không thích dùng local-npm nữa thì gõ lệnh</li></ul>\n\n<p></p><pre><code class=\"lang-auto\">npm set registry https://registry.npmjs.org</code></pre>\n\n<ul><li>local-npm còn công cấp cho bạn một giao diện kiểu như npm để bạn có thể duyệt các package offline. Nhưng bạn phải đợi cho local-npm replicate hoàn toàn database của npm về máy đã. Bạn có thể truy cập vào [http://localhost:5080/_browse/#/] để sử dụng</li></ul>\n\n<p><div class=\"lightbox-wrapper\"><a href=\"http://daynhauhoc.s3-ap-southeast-1.amazonaws.com/original/2X/6/65c6436b8139bd7015c1218fa7896fcaf2f978ee.png\" class=\"lightbox\" title=\"ui.png\"><img src=\"http://daynhauhoc.s3-ap-southeast-1.amazonaws.com/optimized/2X/6/65c6436b8139bd7015c1218fa7896fcaf2f978ee_1_690x387.png\" alt=\"local-npm UI\" width=\"690\" height=\"387\"><div class=\"meta\">\n<span class=\"filename\">ui.png</span><span class=\"informations\">1366x768 42.2 KB</span><span class=\"expand\"></span>\n</div></a></div></p>\n\n<p>Vậy là xong. local-npm sẽ tự động replicate database của npm về, mỗi khi bạn tải một package nào về thì nó sẽ tự động cache, đảm bảo là bạn không bao giờ phải tải một file nào đó 2 lần.</p>\n\n<h1>Tự động chạy local-npm khi khởi động máy</h1>\n\n<p>Ở đây mình hướng dẫn cho Ubuntu 15.04</p>\n\n<ul><li>Mở dash và tìm kiếm Startup Applications</li></ul>\n\n<p><div class=\"lightbox-wrapper\"><a href=\"http://daynhauhoc.s3-ap-southeast-1.amazonaws.com/original/2X/6/69775fb012b052fb870fbaba2e1d47a6252b7219.png\" class=\"lightbox\" title=\"dash.png\"><img src=\"http://daynhauhoc.s3-ap-southeast-1.amazonaws.com/optimized/2X/6/69775fb012b052fb870fbaba2e1d47a6252b7219_1_690x387.png\" alt=\"dash search\" width=\"690\" height=\"387\"><div class=\"meta\">\n<span class=\"filename\">dash.png</span><span class=\"informations\">1366x768 186 KB</span><span class=\"expand\"></span>\n</div></a></div></p>\n\n<ul><li>Tạo mới một entry để tự khởi động command ở trên mỗi khi mở máy</li></ul>\n\n<p><img src=\"http://daynhauhoc.s3-ap-southeast-1.amazonaws.com/original/2X/0/069bd0f27a9de5caa6752982ca7ed132c9997b57.png\" alt=\"startup setup\" width=\"496\" height=\"354\"></p>\n\n<p>Done. npm is not a jerk anymore. <img src=\"http://daynhauhoc.com/images/emoji/twitter/smiley.png?v=2\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\"></p>\n\n<p><a href=\"https://khoanguyen.me/tang-toc-npm/\">Bài gốc từ blog của mình</a></p>\n","raw":"---json\n{\"id\":24297,\"layout\":\"Post\",\"route\":\"npm-tang-toc-va-su-dung-offline\",\"title\":\"Npm: Tăng tốc và sử dụng offline\",\"tags\":[\"npm\",\"javascript\",\"nodejs\"],\"date\":\"2016-04-12T06:59:40.118Z\",\"views\":84,\"likes\":19,\"description\":\"Chắc chắn là ai đã từng làm việc với npm thì đều biết một điều rằng npm nó siêu chậm. Vì vậy mình hay hạn chế chạy npm install đến mức tối…\",\"author\":{\"name\":\"Khoa Nguyen\",\"avatar\":\"/user_avatar/daynhauhoc.com/thangngoc89/{size}/1773_1.png\",\"username\":\"thangngoc89\"}}\n---\n\n<p>Chắc chắn là ai đã từng làm việc với npm thì đều biết một điều rằng npm nó siêu chậm. Vì vậy mình hay hạn chế chạy <code>npm install</code> đến mức tối thiểu và thường không nhận được patch update, ... cũng như nhiều vấn đề khác phát sinh. Trong bài viết này mình sẽ giới thiệu với các bạn một package không những giúp tăng tốc npm mà còn cho phép bạn cài đặt package offline.</p>\n\n<h1><a href=\"https://github.com/nolanlawson/local-npm\">local-npm</a></h1>\n\n<p><a href=\"https://github.com/nolanlawson/local-npm\">local-npm</a> sẽ tạo ra 1 replicate cho toàn bộ database của npm (chỉ hơn 1GB một tí thôi) cũng như là cache các package đã tải về. Vì vậy bạn sẽ không bao giờ tải một file 2 lần.</p>\n\n<h2>Sử dụng</h2>\n\n<ul><li>Cài đặt</li></ul>\n\n<p></p><pre><code class=\"lang-auto\">npm install --global local-npm</code></pre>\n\n<ul><li>Tạo một thư mục để chứa dữ liệu</li></ul>\n\n<p></p><pre><code class=\"lang-auto\">mkdir ~/local_npm</code></pre>\n\n<ul><li>Chạy local-npm server</li></ul>\n\n<p></p><pre><code class=\"lang-auto\">local-npm -d ~/local_npm</code></pre>\n\n<ul><li>Lúc này bạn sẽ thấy giao diện chính của chương trình xuất hiện</li></ul>\n\n<p><div class=\"lightbox-wrapper\"><a href=\"http://daynhauhoc.s3-ap-southeast-1.amazonaws.com/original/2X/e/e249e18b9cb3bf49ae51d348a1d07db166d8c99b.png\" class=\"lightbox\" title=\"local_npm.png\"><img src=\"http://daynhauhoc.s3-ap-southeast-1.amazonaws.com/optimized/2X/e/e249e18b9cb3bf49ae51d348a1d07db166d8c99b_1_690x437.png\" alt=\"Giao diện của local-npm\" width=\"690\" height=\"437\"><div class=\"meta\">\n<span class=\"filename\">local_npm.png</span><span class=\"informations\">750x476 35.5 KB</span><span class=\"expand\"></span>\n</div></a></div></p>\n\n<ul><li>Thiết lập cho npm tải dữ liệu từ local-npm</li></ul>\n\n<p></p><pre><code class=\"lang-auto\">npm set registry http://127.0.0.1:5080</code></pre>\n\n<ul><li>Nếu bạn không thích dùng local-npm nữa thì gõ lệnh</li></ul>\n\n<p></p><pre><code class=\"lang-auto\">npm set registry https://registry.npmjs.org</code></pre>\n\n<ul><li>local-npm còn công cấp cho bạn một giao diện kiểu như npm để bạn có thể duyệt các package offline. Nhưng bạn phải đợi cho local-npm replicate hoàn toàn database của npm về máy đã. Bạn có thể truy cập vào [http://localhost:5080/_browse/#/] để sử dụng</li></ul>\n\n<p><div class=\"lightbox-wrapper\"><a href=\"http://daynhauhoc.s3-ap-southeast-1.amazonaws.com/original/2X/6/65c6436b8139bd7015c1218fa7896fcaf2f978ee.png\" class=\"lightbox\" title=\"ui.png\"><img src=\"http://daynhauhoc.s3-ap-southeast-1.amazonaws.com/optimized/2X/6/65c6436b8139bd7015c1218fa7896fcaf2f978ee_1_690x387.png\" alt=\"local-npm UI\" width=\"690\" height=\"387\"><div class=\"meta\">\n<span class=\"filename\">ui.png</span><span class=\"informations\">1366x768 42.2 KB</span><span class=\"expand\"></span>\n</div></a></div></p>\n\n<p>Vậy là xong. local-npm sẽ tự động replicate database của npm về, mỗi khi bạn tải một package nào về thì nó sẽ tự động cache, đảm bảo là bạn không bao giờ phải tải một file nào đó 2 lần.</p>\n\n<h1>Tự động chạy local-npm khi khởi động máy</h1>\n\n<p>Ở đây mình hướng dẫn cho Ubuntu 15.04</p>\n\n<ul><li>Mở dash và tìm kiếm Startup Applications</li></ul>\n\n<p><div class=\"lightbox-wrapper\"><a href=\"http://daynhauhoc.s3-ap-southeast-1.amazonaws.com/original/2X/6/69775fb012b052fb870fbaba2e1d47a6252b7219.png\" class=\"lightbox\" title=\"dash.png\"><img src=\"http://daynhauhoc.s3-ap-southeast-1.amazonaws.com/optimized/2X/6/69775fb012b052fb870fbaba2e1d47a6252b7219_1_690x387.png\" alt=\"dash search\" width=\"690\" height=\"387\"><div class=\"meta\">\n<span class=\"filename\">dash.png</span><span class=\"informations\">1366x768 186 KB</span><span class=\"expand\"></span>\n</div></a></div></p>\n\n<ul><li>Tạo mới một entry để tự khởi động command ở trên mỗi khi mở máy</li></ul>\n\n<p><img src=\"http://daynhauhoc.s3-ap-southeast-1.amazonaws.com/original/2X/0/069bd0f27a9de5caa6752982ca7ed132c9997b57.png\" alt=\"startup setup\" width=\"496\" height=\"354\"></p>\n\n<p>Done. npm is not a jerk anymore. <img src=\"http://daynhauhoc.com/images/emoji/twitter/smiley.png?v=2\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\"></p>\n\n<p><a href=\"https://khoanguyen.me/tang-toc-npm/\">Bài gốc từ blog của mình</a></p>\n","__filename":"posts/24297.md","__url":"/npm-tang-toc-va-su-dung-offline/","__resourceUrl":"/npm-tang-toc-va-su-dung-offline/index.html","__dataUrl":"/npm-tang-toc-va-su-dung-offline/index.html.2bde22b3d2b63215b97c501443c8ce6a.json"}